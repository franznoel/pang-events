<!DOCTYPE HTML>
<html>
    <head>
        <title>pangEvents</title>
        <link rel="stylesheet" type="text/css" href="bower_components/foundation-sites/dist/foundation.min.css" />
        <link rel="stylesheet" type="text/css" href="style.css" />
    </head>
    <body>
      <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
      <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
      <script type="text/javascript" src="bower_components/foundation-sites/dist/foundation.min.js"></script>
      <script type="text/javascript" src="script.js"></script>

      <header>
        <div id="menu" class="top-bar">
          <div class="top-bar-left">
            <ul class="menu" data-dropdown-menu>
              <li class="menu-text"><a href="/" class="logo">PangEvents</a></li>
            </ul>
          </div>
          <div class="top-bar-right">
            <ul class="menu">
              <li class="credentials"><a href="/sign-in.html" class="button">Sign In</a></li>
            </ul>
          </div>
        </div>    
      </header>

      <div id="content" class="row">
        <div class="large-10 columns">
          <div class="row">
            <div class="large-12 columns">
              <form method="post">
                <div class="row">
                  <div class="large-12 columns">
                    <div class="input-group">
                      <input type="text" name="eventSearch" class="input-group-field eventSearch" value="" placeholder="Search an event title, category, or location" />
                      <div class="input-group-button">
                        <input type="submit" class="button eventSearchSubmit" value="Search">
                      </div>
                    </div>
                  </div>
                </div>
              </form>              
            </div>
          </div>

          <hr/>
          <!-- #event-list -->
          <div id="event-list" class="row">
            <div class="large-12 columns">
              <div class="row">
                <a href="/event-info.html" class="large-4 columns">
                  <div class="callout event">
                    <h3 class="eventTitle">Star Wars Movie Night</h3>
                    <span class="success label">Family Gathering</span>
                    <span class="badge" title="Attendees">4</span>
                    <div class="eventDescription">
                      <p>We are going to watch Star Wars tonight!</p>
                    </div>
                    <span class="label alert eventHost">Richard</span>
                    <div class="eventLocation">
                      12345 Main St., Los Angeles, CA 91325
                    </div>
                    <span class="date primary label">2015-Jan-12</span>
                    <span class="time primary label">12:30 PM</span>
                  </div>
                </a>
                <a href="/event-info.html" class="large-4 columns">
                  <div class="callout event">
                    <h3 class="eventTitle">Jeff and Paula</h3>
                    <span class="success label">Wedding</span>
                    <span class="badge" title="Attendees">40</span>
                    <div class="eventDescription">
                      <p>We're going to get married, and you're invited</p>
                    </div>
                    <span class="label alert eventHost">Jeff</span>
                    <div class="eventLocation">
                      12345 Main St., Los Angeles, CA 91325
                    </div>
                    <span class="date primary label">2015-Jan-12</span>
                    <span class="time primary label">12:30 PM</span>
                  </div>
                </a>
                <a href="/event-info.html" class="large-4 columns">
                  <div class="callout event">
                    <h3 class="eventTitle">Flash Deals</h3>
                    <span class="success label">Product Launch</span>
                    <span class="badge" title="Number of Sales">10</span>
                    <div class="eventDescription">
                      <p>We're launching a guitar, piano, drums, and bass sale.</p>
                    </div>
                    <span class="label alert eventHost">Doming</span>
                    <div class="eventLocation">
                      12345 Main St., Los Angeles, CA 91325
                    </div>
                    <span class="date primary label">2015-Jan-12</span>
                    <span class="time primary label">12:30 PM</span>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <!-- No events 
          <div class="row">
            <div class="large-12 columns">
              <div class="row">
                  <div class="small-12 large-offset-4 large-4 columns">
                    <p class="no-events">There are currently no events listed.</p>
                  </div>
              </div>
            </div>
          </div>
          -->
        </div>

        <!-- #event-category -->
        <div class="large-2 columns">
          <h4>Start an Event</h4>
          <div id="event-category" class="stacked button-group">
            <a href="/event-add.html?eventType=Conference" class="button success">Conferences</a>
            <a href="/event-add.html?eventType=Seminar" class="button success">Seminars</a>
            <a href="/event-add.html?eventType=Meetings" class="button success">Meetings</a>
            <a href="/event-add.html?eventType=Team+Building" class="button success">Team Building</a>
            <a href="/event-add.html?eventType=Trade+Show" class="button success">Trade Shows</a>
            <a href="/event-add.html?eventType=Business+Dinner" class="button success">Business Dinners</a>
            <a href="/event-add.html?eventType=Golf+Event" class="button success">Golf Events</a>
            <a href="/event-add.html?eventType=Press+Conference" class="button success">Press Conferences</a>
            <a href="/event-add.html?eventType=Networking+Event" class="button success">Networking Events</a>
            <a href="/event-add.html?eventType=Incentive+Travel" class="button success">Incentive Travel</a>
            <a href="/event-add.html?eventType=Opening+Ceremony" class="button success">Opening Ceremonies</a>
            <a href="/event-add.html?eventType=Product+Launch" class="button success">Product Launches</a>
            <a href="/event-add.html?eventType=Theme+Party" class="button success">Theme Parties</a>
            <a href="/event-add.html?eventType=VIP+Event" class="button success">VIP Events</a>
            <a href="/event-add.html?eventType=Trade+Fair" class="button success">Trade Fair</a>
            <a href="/event-add.html?eventType=Shareholder+Meeting" class="button success">Shareholder Meeting</a>
            <a href="/event-add.html?eventType=Award+Ceremony" class="button success">Award Ceremonies</a>
            <a href="/event-add.html?eventType=Incentive+Event" class="button success">Incentive Events</a>
            <a href="/event-add.html?eventType=Board+Meeting" class="button success">Board Meetings</a>
            <a href="/event-add.html?eventType=Executive+Retreat" class="button success">Executive Retreats</a>
            <a href="/event-add.html?eventType=Wedding" class="button success">Weddings</a>
            <a href="/event-add.html?eventType=Birthday" class="button success">Birthdays</a>
            <a href="/event-add.html?eventType=Wedding+Anniversary" class="button success">Wedding Anniversaries</a>
            <a href="/event-add.html?eventType=Family+Event" class="button success">Family Events</a>
          </div>            
        </div>
      </div><!-- #content -->

      <script type="text/javascript">
        // we would probably save a profile when we register new users on our site
        // we could also read the profile to see if it's null
        // here we will just simulate this with an isNewUser boolean
        var isNewUser = true;

        var ref = new Firebase("https://pang-events.firebaseio.com");
        ref.onAuth(function(authData) {
          if (authData && isNewUser) {
            // save the user's profile into the database so we can list users,
            // use them in Security and Firebase Rules, and show profiles
            var userData = {
              provider: authData.provider,
              name: getName(authData)
            };
            console.log(userData);
            ref.child("users").child(authData.uid).set(userData);
            $(".credentials").html('<a href="javascript:logout()" class="button">' + userData.name + '</button>');
          }
        });
      </script>
    </body>
</html>